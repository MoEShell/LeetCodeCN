# 最长有效括号

## 思考

做题做事最忌“想太多”。这一题涉及括号匹配，首先想到的是栈。想将字符串分解为几个子串考虑到递归、递归转为栈，然而无论哪个都没有好思路。甚至考虑给每个 '(' 编号来进行匹配。后来才想到既然有索引为什么不用数组呢？

众所周知，每个 ')' 都是与左侧最近的一个 '(' 匹配。对长度为 n 的字符串，设第 i 位为')'，对 [0, i] 逆序遍历，找到第一个 '(' 即为一组。对这一组做个标记，例如全改为 '#'。之后再遍历数组，统计最长 '#' 串长度即可。

这是个颇为暴力的做法，但至少有效。

## 算法

1. 遍历数组。如果第 i 位是 ')'，逆序遍历 [0, i]，找到首个 '('，将两个字符都改为 '#'
2. 遍历数组，统计最长 '#'子串长度